(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4f5fd2b5"],{"0390":function(t,e,i){"use strict";i("c9af")},"48b3":function(t,e,i){"use strict";i.r(e);var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container documentation-container"},[i("el-button",{staticClass:"tutorial_btn",attrs:{type:"warning",icon:"el-icon-guide"},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.guide(e)}}},[t._v(t._s(t.$t("global.guide")))]),i("div",{staticClass:"training_container"},[i("aside",{staticStyle:{height:"100%","min-width":"300px"},attrs:{id:"parameter-panel"}},[i("h3",[t._v(t._s(t.$t("global.parameterSetting")))]),i("el-form",{ref:"postForm",staticClass:"form-container",attrs:{model:t.postForm,rules:t.rules}},[i("el-form-item",{staticClass:"postInfo-container-item",attrs:{"label-width":"130px",label:"Task Mode:"}},[i("el-select",{attrs:{"default-first-option":""},model:{value:t.postForm["task-mode"],callback:function(e){t.$set(t.postForm,"task-mode",e)},expression:"postForm['task-mode']"}},t._l(t.taskListOptions,(function(t,e){return i("el-option",{key:t+e,attrs:{label:t,value:t}})})),1)],1),i("el-form-item",{staticClass:"postInfo-container-item",attrs:{"label-width":"130px",label:"Tree Algorithm:"}},[i("el-select",{attrs:{"default-first-option":""},model:{value:t.postForm["tree-algorithm"],callback:function(e){t.$set(t.postForm,"tree-algorithm",e)},expression:"postForm['tree-algorithm']"}},t._l(t.treeAlgorithmOptions,(function(t,e){return i("el-option",{key:t+e,attrs:{label:t,value:t}})})),1)],1),i("el-form-item",{staticClass:"postInfo-container-item",attrs:{"label-width":"130px",label:"Feature Prop:"}},[i("el-select",{attrs:{"default-first-option":""},model:{value:t.postForm["feature-proportion"],callback:function(e){t.$set(t.postForm,"feature-proportion",e)},expression:"postForm['feature-proportion']"}},t._l(t.featureproportionOptions,(function(t,e){return i("el-option",{key:t+e,attrs:{label:t,value:t}})})),1)],1),i("el-form-item",{staticClass:"postInfo-container-item",attrs:{"label-width":"130px",label:"Tree Depth:"}},[i("el-input",{model:{value:t.postForm["max-depth"],callback:function(e){t.$set(t.postForm,"max-depth",e)},expression:"postForm['max-depth']"}})],1),i("el-form-item",{staticClass:"postInfo-container-item",attrs:{"label-width":"130px",label:"Leaf Size:"}},[i("el-input",{model:{value:t.postForm["desired-leaf-size"],callback:function(e){t.$set(t.postForm,"desired-leaf-size",e)},expression:"postForm['desired-leaf-size']"}})],1),i("el-form-item",{staticClass:"postInfo-container-item",attrs:{"label-width":"130px",label:"Forest Algorithm:"}},[i("el-select",{attrs:{"default-first-option":""},model:{value:t.postForm["forest-algorithm"],callback:function(e){t.$set(t.postForm,"forest-algorithm",e)},expression:"postForm['forest-algorithm']"}},t._l(t.forestAlgorithmOptions,(function(t,e){return i("el-option",{key:t+e,attrs:{label:t,value:t}})})),1)],1),i("el-form-item",{staticClass:"postInfo-container-item",attrs:{"label-width":"130px",label:"Number of Trees:"}},[i("el-input",{model:{value:t.postForm["number-of-trees"],callback:function(e){t.$set(t.postForm,"number-of-trees",e)},expression:"postForm['number-of-trees']"}})],1),i("el-form-item",{staticClass:"postInfo-container-item",attrs:{"label-width":"130px",label:"Sampling Prop:"}},[i("el-input",{model:{value:t.postForm["sampling-proportion"],callback:function(e){t.$set(t.postForm,"sampling-proportion",e)},expression:"postForm['sampling-proportion']"}})],1),i("el-form-item",{staticClass:"postInfo-container-item",attrs:{"label-width":"130px",label:"OOB Proportion:"}},[i("el-input",{model:{value:t.postForm["oob-proportion"],callback:function(e){t.$set(t.postForm,"oob-proportion",e)},expression:"postForm['oob-proportion']"}})],1),i("el-divider"),i("div",{staticStyle:{display:"flex","justify-content":"space-between"},attrs:{id:"uploadFIles"}},[i("el-upload",{staticClass:"upload-demo",staticStyle:{"margin-bottom":"20px"},attrs:{data:{fileName:"train.csv"},action:"http://127.0.0.1:3333/SilasGUI/uploadFile","file-list":t.fileList,limit:1,accept:".csv","on-success":t.handleSuccess,"on-remove":t.handleRemove}},[t.canClick?i("el-button",{attrs:{slot:"tip",type:"primary",disabled:""},slot:"tip"},[i("i",{staticClass:"el-icon-upload"}),t._v(" "+t._s(t.$t("global.trainingFile")))]):i("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"}},[i("i",{staticClass:"el-icon-upload"}),t._v(" "+t._s(t.$t("global.trainingFile")))])],1),i("el-upload",{staticClass:"upload-demo",attrs:{data:{fileName:"test.csv"},action:"http://127.0.0.1:3333/SilasGUI/uploadFile","file-list":t.fileList,limit:1,accept:".csv","on-success":t.handleTestSuccess,"on-remove":t.handleTestRemove}},[t.canTestClick?i("el-button",{attrs:{slot:"tip",type:"primary",disabled:""},slot:"tip"},[i("i",{staticClass:"el-icon-upload"}),t._v(" "+t._s(t.$t("global.testingFile")))]):i("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"}},[i("i",{staticClass:"el-icon-upload"}),t._v(" "+t._s(t.$t("global.testingFile")))])],1)],1),i("el-button",{staticStyle:{width:"100%"},attrs:{id:"trainBtn",type:"success",plain:""},on:{click:t.train}},[t._v(t._s(t.$t("global.train")))])],1)],1),i("div",[i("div",{staticClass:"training_results"},[i("el-card",{staticStyle:{border:"none","text-align":"justify",height:"184px",width:"510px","font-family":"monospace",overflow:"auto"},attrs:{id:"trainRes"}},[i("h3",[t._v(t._s(t.$t("global.testingRes")))]),t._l(t.trainResult,(function(e){return i("div",{staticStyle:{"font-size":"14px","white-space":"wrap"}},t._l(e,(function(e){return i("span",{staticStyle:{display:"inline-block",width:"90px"},domProps:{innerHTML:t._s(e)}})})),0)}))],2),i("el-card",{staticStyle:{border:"none","text-align":"justify","margin-left":"20px",height:"184px",flex:"1","font-family":"monospace"},attrs:{id:"lastSetting"}},[i("div",{ref:"editorContainer",staticStyle:{height:"160px"}})])],1),i("el-card",{directives:[{name:"loading",rawName:"v-loading",value:t.isTreeLoading,expression:"isTreeLoading"}],staticClass:"train-reslut-table",staticStyle:{border:"none","text-align":"center","margin-top":"20px","margin-left":"20px"},attrs:{id:"treeModel","element-loading-text":t.$t("global.loading")}},[t.refresh?i("div",{staticClass:"tree-visual-container",staticStyle:{display:"flex",height:"calc(100vh - 368px)","font-family":"monospace","min-height":"300px"}},[i("el-card",{staticStyle:{padding:"0",color:"#000","min-height":"400px"}},[i("div",{staticStyle:{width:"100px",height:"100%",overflow:"auto"}},t._l(t.treeDataList,(function(e,r){return i("div",{key:r,staticClass:"tree-item",class:t.currentTreeIndex==r?"current":"",on:{click:function(e){return t.updateCurrentTree(r)}}},[i("div",{staticStyle:{height:"30px","line-height":"30px",cursor:"pointer"},domProps:{innerHTML:t._s("Tree# "+r)}})])})),0)]),i("div",{staticStyle:{flex:"1",padding:"10px",border:"1px dashed #ccc",position:"relative"}},[i("h3",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.$t("global.treeModelVis"))+" | Tree: "+t._s(t.currentTreeIndex)+" ")]),i("el-divider"),i("div",{staticClass:"node-info"},[i("span",[t._v(t._s(t.nodeInfo))])]),i("svg",{attrs:{id:"svgChart"}})],1)],1):t._e()])],1)])],1)},a=[],n=(i("99af"),i("caad"),i("fb6a"),i("b0c0"),i("e9c4"),i("b64b"),i("d3b7"),i("2532"),i("159b"),i("c24c")),o=i.n(n);i("01d77");function s(t){return[{element:"#parameter-panel",popover:{title:t.t("trainpage.settingtitle"),description:t.t("trainpage.settingdesc"),position:"right"}},{element:"#uploadFIles",popover:{title:t.t("trainpage.uploadtitle"),description:t.t("trainpage.uploaddesc"),position:"right"}},{element:"#trainBtn",popover:{title:t.t("trainpage.traintitle"),description:t.t("trainpage.traindesc"),position:"right"}},{element:"#trainRes",popover:{title:t.t("trainpage.trainrestitle"),description:t.t("trainpage.trainresdesc"),position:"right"}},{element:"#lastSetting",popover:{title:t.t("trainpage.lastSettingtitle"),description:t.t("trainpage.lastSettingdesc"),position:"bottom"}},{element:"#treeModel",popover:{title:t.t("trainpage.treemodeltitle"),description:t.t("trainpage.treemodeldesc"),position:"top"}}]}var l=i("f43a"),c=i("898b"),p=i("6d4f"),d=i.n(p),u={"task-mode":"classification","tree-algorithm":"GreedyNarrow1D","feature-proportion":"sqrt","max-depth":12,"desired-leaf-size":64,"forest-algorithm":"ClassicForest","number-of-trees":8,"sampling-proportion":1,"oob-proportion":.05},f={name:"Training",data:function(){return{driver:null,postForm:Object.assign({},u),lastSettings:{"desired-leaf-size":"64","feature-proportion":"sqrt",file_path_train:"silas-temp/results/train.csv",file_path_valid:"silas-temp/results/train.csv","forest-algorithm":"ClassicForest","max-depth":"64","number-of-trees":"2","oob-proportion":"0.05","sampling-proportion":"1.0","task-mode":"classification","tree-algorithm":"GreedyNarrow1D"},loading:!1,taskListOptions:["classification","regression"],treeAlgorithmOptions:["GreedyNarrow1D","RdGreedy1D","SimpleTreeGrower","RdGreedyReg1D"],featureproportionOptions:["sqrt","log","log2","golden"],forestAlgorithmOptions:["ClassicForest","PrototypeSampleForest","SimpleForest","SimpleValueForest","SimpleRegForest","SimpleOOBRegForest","AdaBoostForest","CascadeForest"],rules:{},fileList:[],canClick:!1,canTestClick:!1,tempRoute:{},trainResult:[],treeDataList:[],refresh:!0,currentTreeIndex:0,isTreeLoading:!1,nodeInfo:"Node Detail:\n-"}},mounted:function(){this.driver=new o.a,this.isTreeLoading=!0,this.getTree(),this.getRes()},methods:{guide:function(){var t=s(this.$i18n);this.driver.defineSteps(t),this.driver.start()},handleSuccess:function(t,e,i){console.info(i,t,e,"fileList"),this.canClick=!0},handleRemove:function(){this.canClick=!1},handleTestSuccess:function(){this.canTestClick=!0},handleTestRemove:function(){this.canTestClick=!1},updateCurrentTree:function(t){this.currentTreeIndex=t,this.initTree(this.treeDataList[t])},getRes:function(){var t=this;Object(l["h"])().then((function(e){var i=e.TrainResult;t.lastSettings=e.setting_data,t.setEditor();for(var r=0;r<i.length;r++){var a=i[r];a.includes("──────────────")&&(t.trainResult.push(t.getArr(i[r+1])),t.trainResult.push(t.getArr(i[r+2])),t.trainResult.push(t.getArr(i[r+3])))}}))},getTree:function(){var t=this;Object(l["i"])().then((function(e){t.treeDataList=e.treeDataList,t.treeDataList&&t.treeDataList.length&&t.initTree(t.treeDataList[t.currentTreeIndex]),t.isTreeLoading=!1}))},initTree:function(t){var e=this,i=window.innerWidth-800,r=window.innerHeight-500,a=c["b"]("#svgChart").attr("width",i).attr("height",r);console.log(a._groups[0][0]);while(null!==(n=a._groups[0][0])&&void 0!==n&&n.firstChild){var n;a._groups[0][0].removeChild(a._groups[0][0].lastChild)}var o=a.append("g").attr("transform","translate(0, 20)");function s(t){t.left&&(t.left.left||t.left.right)&&s(t.left),t.right&&t.right&&(t.right.left||t.right.right)&&s(t.right),t.right&&t.right?t.children=[t.left,t.right]:t.right?t.children=[{},t.right]:t.children=[t.left]}s(t),t.name="Root";var l=c["a"](t),p=c["c"]().size([i,r-30]).separation((function(t,e){return t.parent===e.parent?1:2})),d=p(l),u=(o.selectAll(".links").data(d.descendants().slice(1)).enter().append("path").attr("fill","none").attr("stroke","#000").attr("stroke-width",1).attr("d",(function(t){return"\n                M".concat(t.x,",").concat(t.y,"\n                C").concat(t.x,",").concat((t.y+t.parent.y)/2,"\n                ").concat(t.parent.x,",").concat((t.y+t.parent.y)/2.5,"\n                ").concat(t.parent.x,",").concat(t.parent.y)})),o.selectAll(".node").data(d.descendants()).enter().append("g").attr("transform",(function(t){return"translate(".concat(t.x,", ").concat(t.y,")")})));u.append("circle").style("fill","rgb(33, 100, 246)").attr("stroke","#000").attr("stroke-width",2).attr("r",10).on("click",(function(t,i){for(var r,a=null===(r=o.selectAll("circle"))||void 0===r?void 0:r._groups[0],n=0;n<a.length;n++)a[n].attributes.style.value="fill: rgb(33, 100, 246);";"rgb(228, 160, 53)"!==c["b"](this).style("fill")&&c["b"](this).style("fill","rgb(228, 160, 53)"),e.nodeInfo="Node Detail:\n",console.log("d.data",i,i.data),Object.keys(i.data).forEach((function(t){"left"!=t&&"right"!==t&&"children"!=t&&"partition"!=t&&(e.nodeInfo+="".concat(t,": ").concat(i.data[t],"\n"))}))})),u.append("text").attr("dx",".6em").attr("fill","#000").attr("x",5).text((function(t){return t.data.featureIndex?"".concat(t.data.featureIndex):"node"}))},setEditor:function(){var t=this;setTimeout((function(){t.editor=d.a.edit(t.$refs.editorContainer),console.log("this.editor",t.editor),t.editor.setValue(JSON.stringify(t.lastSettings,null,2),-1),t.editor.setReadOnly(!0)}))},getArr:function(t){for(var e=t.split(" "),i=[],r=0;r<e.length;r++)""!==e[r]&&"\n"!==e[r]&&"0"!==e[r]&&"1"!==e[r]&&"tested_negative"!==e[r]&&"tested_positive"!==e[r]&&i.push(e[r]);return i},train:function(){var t=this;Object(l["n"])(this.postForm).then((function(e){var i=e.TrainResult;t.lastSettings=e.setting_data,t.setEditor(),t.getTree();for(var r=0;r<i.length;r++){var a=i[r];a.includes("──────────────")&&(t.trainResult.push(t.getArr(i[r+1])),t.trainResult.push(t.getArr(i[r+2])),t.trainResult.push(t.getArr(i[r+3])))}})).catch((function(t){console.log("error",t)}))}}},g=f,m=(i("cba2"),i("0390"),i("2877")),h=Object(m["a"])(g,r,a,!1,null,"b1e7e850",null);e["default"]=h.exports},bb11:function(t,e,i){},c9af:function(t,e,i){},cba2:function(t,e,i){"use strict";i("bb11")},f43a:function(t,e,i){"use strict";i.d(e,"n",(function(){return n})),i.d(e,"h",(function(){return o})),i.d(e,"i",(function(){return s})),i.d(e,"j",(function(){return l})),i.d(e,"o",(function(){return c})),i.d(e,"g",(function(){return p})),i.d(e,"k",(function(){return d})),i.d(e,"f",(function(){return u})),i.d(e,"c",(function(){return f})),i.d(e,"e",(function(){return g})),i.d(e,"m",(function(){return m})),i.d(e,"l",(function(){return h})),i.d(e,"b",(function(){return b})),i.d(e,"d",(function(){return v})),i.d(e,"a",(function(){return x}));i("99af");var r=i("b775"),a="http://127.0.0.1:3333/";function n(t){return Object(r["a"])({url:"".concat(a,"SilasGUI/starttrain"),method:"post",data:t})}function o(){return Object(r["a"])({url:"".concat(a,"SilasGUI/trainPage/getTrainResult"),method:"get"})}function s(){return Object(r["a"])({url:"".concat(a,"SilasGUI/trainPage/getTreeData"),method:"get"})}function l(){return Object(r["a"])({url:"".concat(a,"SilasGUI/testPage/getValResult"),method:"get"})}function c(t){return Object(r["a"])({url:"".concat(a,"SilasGUI/startvalidation"),method:"post",data:t})}function p(){return Object(r["a"])({url:"".concat(a,"SilasGUI/testPage/getTreeData"),method:"get"})}function d(t){return Object(r["a"])({url:"".concat(a,"SilasGUI/predictPage/prediction"),method:"post",data:t})}function u(t){return Object(r["a"])({url:"".concat(a,"SilasGUI/predictPage/getRes?type=").concat(t.type),method:"get"})}function f(){return Object(r["a"])({url:"".concat(a,"SilasGUI/gridSearchPage/gengridSearch"),method:"get"})}function g(){return Object(r["a"])({url:"".concat(a,"SilasGUI/gridSearchPage/getGridSearchRes"),method:"get"})}function m(t){return Object(r["a"])({url:"".concat(a,"SilasGUI/gridSearchPage/gridSearch"),method:"post",data:t})}function h(t){return Object(r["a"])({url:"".concat(a,"SilasGUI/extensionPage/explanation"),method:"post",data:t})}function b(t){return Object(r["a"])({url:"".concat(a,"SilasGUI/featurePage/featureImportance"),method:"post",data:t})}function v(){return Object(r["a"])({url:"".concat(a,"SilasGUI/getStastisticData"),method:"get"})}function x(t){return Object(r["a"])({url:"".concat(a,"SilasGUI/deleteFile"),method:"get",params:t})}}}]);